# 🚢 港口移库管理功能详细说明

## 📋 功能概述

已完成港口物资管理系统的移库管理功能，专门针对港口特点设计，支持仓库间移库、货区调整、船期调整、紧急移库等多种场景，具备完整的审核流程和进度跟踪。

## 🎯 港口移库特色设计

### 1. 移库类型分类

#### 🏭 **仓库间移库 (WAREHOUSE_TRANSFER)**
- **应用场景**: 不同仓库间的物资调拨
- **典型案例**: 码头1号仓库 → 码头2号仓库
- **业务价值**: 库存优化、空间调配

#### 📦 **货区调整 (AREA_TRANSFER)**
- **应用场景**: 同一仓库内不同货区间的调整
- **典型案例**: A区-01 → C区-05（同一仓库内）
- **业务价值**: 货区重新规划、存储优化

#### 🚢 **船期调整 (SHIP_SCHEDULE_TRANSFER)**
- **应用场景**: 因船期变化导致的货物重新配置
- **典型案例**: 船期提前，货物需转移到指定泊位
- **特殊字段**: 船期号、泊位号
- **业务价值**: 适应船期变化、提高装卸效率

#### 🚨 **紧急移库 (EMERGENCY_TRANSFER)**
- **应用场景**: 设备故障、安全隐患等紧急情况
- **典型案例**: 仓库设备故障，危险品紧急转移
- **优先级**: 最高优先级处理
- **业务价值**: 保障安全、应急响应

### 2. 运输方式配置

#### 🚛 **港口专用运输设备**
- **叉车运输** - 适用于小件货物、托盘货物
- **起重机** - 适用于重型货物、集装箱
- **卡车运输** - 适用于长距离、大批量运输
- **传送带** - 适用于散货、连续作业
- **人工搬运** - 适用于精密设备、小件物品

### 3. 紧急程度管理

#### ⚡ **三级紧急程度**
- **高** - 红色标识，优先处理（如安全隐患）
- **中** - 橙色标识，正常处理（如船期调整）
- **低** - 绿色标识，计划处理（如库存优化）

## 🔄 完整业务流程

### 1. 移库申请流程
```
创建申请 → 填写移库信息 → 添加移库明细 → 提交审核 → 等待批准
```

### 2. 审核批准流程
```
审核中 → 审核人员检查 → 审核通过/驳回 → 通知申请人
```

### 3. 移库执行流程
```
已审核 → 开始移库 → 执行移库操作 → 完成移库 → 更新库存
```

### 4. 进度跟踪流程
```
实时进度条 → 状态步骤显示 → 时间节点记录 → 完成统计
```

## 📊 功能模块详解

### 1. 移库管理列表

#### 📋 **数据展示字段**
- **移库单号** - 唯一标识，支持复制
- **移库类型** - 彩色标签显示不同类型
- **源仓库/目标仓库** - 清晰显示移库路径
- **移库状态** - 实时状态跟踪
- **紧急程度** - 高优先级有警告图标
- **运输方式** - 显示使用的运输设备
- **船期号** - 船期调整类型专用
- **操作员** - 负责人信息
- **进度条** - 可视化进度显示
- **计划时间** - 预计执行时间
- **耗时统计** - 预计/实际耗时对比

#### 🔧 **操作功能**
- **详情** - 查看完整移库信息
- **审核** - 审核通过移库申请
- **驳回** - 驳回移库申请（带原因）
- **开始移库** - 启动移库执行
- **完成移库** - 确认移库完成
- **修改** - 编辑移库单
- **删除** - 删除移库单

### 2. 移库单详情页面

#### 📈 **进度可视化**
- **步骤条显示** - 5步进度展示
- **状态时间线** - 详细的操作记录
- **进度百分比** - 直观的完成度显示

#### 📋 **详细信息展示**
- **移库单信息** - 完整的单据信息
- **移库明细** - 详细的物料清单
- **重量体积统计** - 物流关键指标
- **特殊要求** - 安全注意事项

#### 🎨 **港口特色展示**
- **船期信息** - 船期号、泊位号
- **运输设备** - 起重机、叉车等
- **货区信息** - 精确到具体货位
- **包装方式** - 集装箱、散装等

### 3. 移库单编辑/新建

#### 📝 **智能表单设计**
- **移库类型联动** - 根据类型显示相关字段
- **仓库选择限制** - 防止源目标仓库相同
- **货区调整模式** - 同仓库内货区调整
- **船期信息录入** - 船期调整专用字段

#### 🔍 **数据验证规则**
- **必填字段检查** - 确保关键信息完整
- **逻辑关系验证** - 源目标仓库逻辑检查
- **期间锁定控制** - 防止历史数据修改
- **明细完整性** - 至少一条移库明细

#### 📦 **移库明细管理**
- **物料选择器** - 弹窗式物料选择
- **货区精确定位** - 源货区→目标货区
- **重量体积录入** - 物流关键数据
- **包装方式选择** - 7种包装方式
- **特殊要求备注** - 安全注意事项

## 🎨 界面设计特色

### 1. 状态管理系统
- **待处理** - 灰色，刚创建的申请
- **审核中** - 橙色，等待审核批准
- **已审核** - 绿色，审核通过待执行
- **移库中** - 蓝色，正在执行移库
- **已完成** - 绿色，移库操作完成
- **已驳回** - 红色，审核未通过
- **已取消** - 灰色，取消的申请

### 2. 进度可视化
- **进度条** - 实时显示完成百分比
- **步骤条** - 5步流程清晰展示
- **时间轴** - 操作历史记录
- **状态图标** - 直观的状态标识

### 3. 港口主题设计
- **运输图标** - 叉车、起重机、卡车图标
- **紧急标识** - 高优先级警告图标
- **船期信息** - 专门的船期字段展示
- **货区定位** - 精确的货位信息

## 📊 模拟数据示例

### 船期调整移库
```
移库单号: TR202508060001
移库类型: 船期调整
源仓库: 码头1号仓库
目标仓库: 码头2号仓库
船期号: COSCO2025080601
泊位号: 2号泊位
紧急程度: 高
运输方式: 起重机
状态: 审核中
```

### 仓库间移库
```
移库单号: TR202508060002
移库类型: 仓库间移库
源仓库: 散货仓库
目标仓库: 码头1号仓库
紧急程度: 中
运输方式: 叉车运输
状态: 已完成
实际耗时: 2.25小时
```

### 货区调整
```
移库单号: TR202508060003
移库类型: 货区调整
仓库: 码头1号仓库（内部调整）
源货区: A区-01-05
目标货区: C区-12-08
紧急程度: 低
运输方式: 叉车运输
状态: 移库中
```

## 🚀 使用指南

### 1. 创建移库单
```
移库管理 → 新建移库单 → 选择移库类型 → 填写基本信息 → 添加明细 → 保存
```

### 2. 船期调整移库
```
选择"船期调整" → 填写船期号和泊位号 → 选择源目标仓库 → 添加货物明细 → 提交审核
```

### 3. 审核移库单
```
移库管理列表 → 选择"审核中"状态 → 点击"审核"或"驳回" → 确认操作
```

### 4. 执行移库
```
已审核状态 → 点击"开始移库" → 现场执行移库 → 点击"完成移库"
```

## 🎯 港口业务价值

### 1. 提高作业效率
- **智能调度** - 根据船期自动调整货物位置
- **设备优化** - 合理选择运输设备
- **路径规划** - 最优的移库路径

### 2. 保障作业安全
- **紧急响应** - 快速处理安全隐患
- **特殊要求** - 危险品特殊处理
- **设备管控** - 专业设备操作

### 3. 优化库存管理
- **空间利用** - 合理配置仓储空间
- **库存平衡** - 各仓库库存均衡
- **成本控制** - 减少不必要的移库成本

### 4. 适应业务变化
- **船期灵活** - 快速响应船期变化
- **需求调整** - 适应客户需求变化
- **设备维护** - 配合设备维护计划

## 📈 统计分析

### 移库效率统计
```
本月移库单数: 156
平均完成时间: 3.2小时
按时完成率: 95.8%
紧急移库占比: 12%
```

### 设备使用统计
```
叉车运输: 45%
起重机: 30%
卡车运输: 15%
传送带: 8%
人工搬运: 2%
```

---

**功能状态：** ✅ 移库管理功能完整可用  
**适用场景：** 港口物资调配、船期响应、库存优化  
**最后更新：** 2025年1月
